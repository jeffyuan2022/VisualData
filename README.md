# Write up

The question guiding our choice of dataset and visualization is, "How has the primary energy consumption within each country changed yearly from 2000 to 2021, and what global trends can be identified from these changes?" To address this, we created a map-based  interactive choropleth visualization that tracks the evolution of global energy consumption from 2000 to 2021. This map examines the yearly changes in primary energy consumption worldwide, focusing on individual countries and their respective regions. We sourced our data from "Energy Data by Our World in Data, 1900-2022," available at https://github.com/owid/energy-data. 

We initially went through extensive data preprocessing and cleaning. We eliminated data outside the 2000 to 2021 timeframe as well as those that are invalid. Countries were categorized into regions based on online information (wikipedia), and we added a column to our dataset to reflect this classification. After that, we calculated the yearly percentage change in primary energy consumption for both countries and regions, using the processed data. Following this, we integrated our original dataset with a "world" dataset from the geopandas package, matching them by ISO codes to acquire centroid data for the countries in our dataset. Finally, we converted the centroids column to a type compatible with serialization in GeoJSON format.

We opted to create an interactive choropleth map. By sliding the brown bar at the top, users can navigate through information from successive or previous years. We added a line of text to inform the audience about the usage of the slide bar. Hovering over a country reveals its name, its regional classification, and two key pieces of data: the yearly percentage change in primary energy consumption for the region and the yearly percentage change in primary energy consumption for that specific country. This design was chosen to facilitate easy access to information through interactive tools. Including both the regional and the country-specific changes in primary energy consumption allows users to contextualize a country's data within its region. The color choices were made after thoughtful consideration. Since a negative yearly percentage change in primary energy consumption indicates a decrease, whereas a positive change indicates an increase, we opted for two distinctly different colors to underscore this difference. Green was chosen for negative values, as it is intuitively associated with environmental conservation, and red for positive values, reflecting the opposite trend. Countries with little or no change are colored in white, and countries that don't have available data are colored black, allowing the audience to easily distinguish the status of primary energy consumption. We put a legend of our color gradient at the top with a description saying that the map is colored based on yearly primary energy consumption percent change. In creating this visualization, our goal was to offer a tool that not only presents data but also tells a story of how the world's energy consumption has evolved over the early 21st century. By combining intuitive visual encodings with interactive elements, we aimed to make the complex data of global energy consumption accessible and engaging, providing insights that could inform discussions on sustainability, policy-making, and the future of energy use worldwide.

We have considered using a default choropleth map, which simplifies the representation of each country, instead of the more realistic depiction we ultimately chose. The simpler option would have been easier to implement and allowed more flexibility in positioning our legend. However, after careful consideration, we opted for the more realistic representation to ensure that it would capture the audience's attention more effectively and provide an enlightening experience. We have thought about the idea of segmenting the years into five-year intervals to illustrate the yearly percentage change in primary energy consumption in such a manner. However, we observed instances where a country might undergo a substantial change in one year, only to revert to a level nearly identical to the prior year as if the previous year's change had not occurred. A notable instance is the COVID period, during which most countries in 2020 witnessed a significant decline in their yearly percentage change in primary energy consumption, followed by a recovery in 2021. Adopting a five-year interval approach would fail to capture such significant fluctuations. We have also contemplated coloring the map based on regional primary energy consumption changes instead of changes in individual countries to streamline the visual presentation. However, we realized this approach might mislead the audience into thinking that all countries within the same region experienced identical changes. This would be especially confusing since hovering over the map reveals detailed information for individual countries.

Work within our group was evenly distributed. One team member focused on preprocessing the data to ensure it was in the correct format for input, while another concentrated on implementing the design rationale. At first, we discussed our objectives, and once we had decided on a topic, we divided the tasks as described above. After preprocessing the data, we imported the file into our implementation framework and collaboratively addressed bug fixes, design enhancements, and the integration of additional graphical features. Upon completing the visualization, one person took on the majority of the writing tasks. The data preprocessing took me approximately 6 hours, and achieving a basic implementation also required about 6 hours from my colleague. Together, we spent an additional 12 hours refining our visualization and debugging issues. We found that implementing our concept and crafting a satisfactory visualization consumed the bulk of our time.


